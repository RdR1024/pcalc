<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Richard De Rozario">
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Spam - Probability Calculator</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
   
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
   <script src="../../js/pcalc.js"></script>
   <script src="../../js/ckeditor/ckeditor.js"></script>
   <script src="../../js/pcalcio.js"></script>
 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">Probability Calculator</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../UserGuide/Usage/">How to use the calculator</a>
</li>
                            
<li >
    <a href="../../UserGuide/ProbabilityIntro/">Simple Probability Calculations</a>
</li>
                            
<li >
    <a href="../../UserGuide/ComboProbs/">Combinations of Probabilities</a>
</li>
                            
<li >
    <a href="../../UserGuide/ConditionalProbs/">Conditional Probabilities</a>
</li>
                            
<li >
    <a href="../../UserGuide/Networks/">Networks of Probabilities</a>
</li>
                            
<li >
    <a href="../../UserGuide/Answers/">Answers to the Exercises</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../mammogram/">Mammogram</a>
</li>
                            
<li >
    <a href="../mammo+blood/">Mammogram + Blood Test</a>
</li>
                            
<li >
    <a href="../cookies/">CookieJar</a>
</li>
                            
<li >
    <a href="../wetgrass/">WetGrass</a>
</li>
                            
<li class="active">
    <a href="./">Spam</a>
</li>
                            
<li >
    <a href="../firefox/">Firefox</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../About/">About</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../wetgrass/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../firefox/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/RdR1024/pcalc/edit/master/docs/examples/spam.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#spam-example">Spam Example</a></li>
            <li><a href="#influence-diagram">Influence Diagram</a></li>
            <li><a href="#clarification">Clarification</a></li>
            <li><a href="#probabilities">Probabilities</a></li>
            <li><a href="#using-the-calculator">Using the Calculator.</a></li>
            <li><a href="#discussion">Discussion</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="spam-example">Spam Example</h1>
<p>After buying a new spam filter that claims 95% accuracy, you test it on 100 of your emails.  The results are:</p>
<table>
<thead>
<tr>
<th></th>
<th>Filter Says “OK”</th>
<th>Filter says “Spam”</th>
</tr>
</thead>
<tbody>
<tr>
<td>Real Mail</td>
<td>73 real emails correctly labeled “OK”</td>
<td>7 real emails incorrectly labeled “Spam”</td>
</tr>
<tr>
<td>Junk Mail (Spam)</td>
<td>2 junk emails incorrectly labeled “OK”</td>
<td>18 junk emails correctly labeled “Spam”</td>
</tr>
</tbody>
</table>
<p>So: <em>How much should you trust your Spam filter?</em></p>
<p>Because of the way we have collected the data, where we have counts in each cell, we can answer this directly without doing Bayesian inference. But let's walk through, because often the most important step is how to interpret the problem.</p>
<h2 id="influence-diagram">Influence Diagram</h2>
<p>An email is either spam or not.  The detector either says Spam or not. So the diagram is:</p>
<pre><code> [Mail Type] --&gt; [Filter Label]
</code></pre>
<p>This is yet another "simple diagnostic" problem like Mammogram. But where Mammogram gives us the causal probabilities (like test results given cancer, or label given mail) and asks us to invert them, <em>this</em> problem has given us the full frequency table to slice as we like.</p>
<p>So, <em>how should we slice it?</em></p>
<h2 id="clarification">Clarification</h2>
<p>In parallel with Mammogram, I shall read the question about trusting your spam filter as some combination of two diagnostic questions (where causal probabilities follow the arcs, and diagnostic probabilities reverse them):</p>
<p>a. Given a "Spam" label, what is the chance it really is spam?  --<em>or</em>--</p>
<p>b. Given an "OK" label, what is the chance it really is OK?</p>
<h2 id="probabilities">Probabilities</h2>
<p>Notice the table gives counts for all four <em>combinations</em>, like "real mail labeled spam" and "real mail labeled OK". We can use this to answer the question directly (see Discussion), but we can also use it to test out the Calculator.</p>
<h2 id="using-the-calculator">Using the Calculator.</h2>
<p>The calculator cannot use clever conventions like Spam given "Spam": all variables are True/False. So we will define them as Spam and SaySpam.
<br>
<form id="form1">
  <textarea id="editor1" name="editor1" cols=80>
    <h2>Specify the probabilities</h2>
    <ul>
    <li>`chance of Spam = 20/100`</li>
    <li>`chance of SaySpam given Spam = 18/20`</li>
    <li>`chance of SaySpam given not Spam = 7/80`</li>
    </ul>
    <h2>Answer the Questions</h2>
    <ul>
    <li>Chance of Spam given SaySpam: `%chance of Spam given SaySpam?`</li>
    <li>Chance of not Spam given not SaySpam: `%chance of not Spam given not SaySpam?`</li>
    </ul>
  </textarea>
  <input id="CalcButton" type="button" value="Calculate" />
  <script>activate_ckeditor("editor1","CalcButton");</script>
</form>
<br></p>
<h2 id="discussion">Discussion</h2>
<p>We can verify these directly because we have the full joint probability table.</p>
<p>a. Given a "Spam" label, the <em>chance</em> that it is spam is #(Spam &amp; "Spam") / #"Spam", or in this case, 18/(7+18) = 18/25, or about 72%.</li></p>
<p>b. Similarly, chance it is OK given that it is labeled so is  #(OK &amp; "OK") / #"OK", or 73/75, or about 97%.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script src="../../js/base.js"></script>
        <script src="../../search/require.js"></script>
        <script src="../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
